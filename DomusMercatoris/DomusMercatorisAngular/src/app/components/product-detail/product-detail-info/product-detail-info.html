<div class="details-scroll-area">
  <h1>{{ product.name }}</h1>
  <div class="product-price">{{ currentPrice() | currency:'USD':'symbol' }}</div>

  @if (product.variants && product.variants.length > 0) {
  <div class="variants-section">
    <h4 style="margin-bottom: 0.5rem;">Options</h4>
    <div class="variant-list" style="display: flex; gap: 10px; margin-bottom: 1rem;">
      @for (variant of product.variants; track variant.id) {
      <button class="variant-btn" [class.active]="selectedVariant?.id === variant.id"
        style="padding: 5px 10px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;"
        [style.background-color]="selectedVariant?.id === variant.id ? '#ddd' : '#fff'"
        (click)="onSelectVariant(variant)">
        {{ variant.color }}
        @if (variant.isCustomizable) {
        ({{ variant.price | currency:'USD':'symbol' }})
        }
      </button>
      }
    </div>
  </div>
  }

  <div class="product-desc" [class.collapsed]="!isDescriptionExpanded()" [innerHTML]="safeDescription()"></div>

  <button class="read-more-btn" (click)="toggleDescription()">
    {{ isDescriptionExpanded() ? 'Read Less' : 'Read More' }}
  </button>
</div>
<div class="details-footer">
  @if (product.isBlockedByCompany) {
    <button class="add-to-cart-btn blocked" disabled>
      Blocked <i class="bi bi-ban"></i>
    </button>
  } @else {
    <button class="add-to-cart-btn" (click)="onAddToCart()">Add to Cart</button>
  }
</div>