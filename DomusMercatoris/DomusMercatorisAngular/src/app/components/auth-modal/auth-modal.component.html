<div class="modal-overlay auth-modal-overlay" (click)="close()">
  <div class="modal-content login-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <button class="close-btn" (click)="close()">Ã—</button>
      <div class="modal-title-box">
        {{ authService.isRegisterMode() ? 'Sign Up' : 'Log In' }}
      </div>
    </div>
    
    <div class="modal-body">
      @if (!authService.isRegisterMode()) {
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="email" placeholder="example@email.com">
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="password" placeholder="******">
        </div>
        <button class="submit-btn" (click)="login()">Log In</button>
        
        <div class="auth-switch">
          Don't have an account? <a (click)="toggleMode()">Sign Up</a>
        </div>
      } @else {
        <div class="form-row">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" [(ngModel)]="registerData.firstName">
          </div>
          <div class="form-group">
            <label>Last Name</label>
            <input type="text" [(ngModel)]="registerData.lastName">
          </div>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="registerData.email">
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="registerData.password">
        </div>
        <div class="form-group">
          <label>Company</label>
          <select [(ngModel)]="registerData.companyId" class="form-control">
            @for (company of companies; track company.companyId) {
              <option [value]="company.companyId">{{company.name}}</option>
            }
          </select>
        </div>
        <button class="submit-btn" (click)="register()">Sign Up</button>

        <div class="auth-switch">
          Already have an account? <a (click)="toggleMode()">Log In</a>
        </div>
      }
    </div>
  </div>
</div>
