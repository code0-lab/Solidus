@page "/Sale/{id:long}"
@model DomusMercatorisDotnetMVC.Pages.SaleDetailModel
@{
    ViewData["PageTitle"] = "Sale Detail";
    Layout = "_LayoutAuth";
}
<div class="container py-4">
    @if (Model.Sale == null)
    {
        <div class="alert alert-warning">Sale not found or not paid yet.</div>
    }
    else
    {
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="mb-0">Order #@Model.Sale.Id</h3>
            <span class="badge text-bg-success">Paid</span>
        </div>
        <div class="card mb-3">
            <div class="card-body">
                <div>Total Price: @Model.Sale.TotalPrice</div>
                <div>Company: @Model.Sale.CompanyId</div>
                <div>User: @(Model.Sale.UserId > 0 ? Model.Sale.UserId : Model.Sale.FleetingUserId)</div>
            </div>
        </div>
        @if (Model.Tracking != null)
        {
            <div class="card">
                <div class="card-header">Cargo Tracking</div>
                <div class="card-body">
                    <div>Tracking Number: @Model.Tracking.TrackingNumber</div>
                    <div>Carrier: @Model.Tracking.CarrierName</div>
                    <div>Status: @Model.Tracking.Status</div>
                </div>
            </div>
        }
        else
        {
            <div class="alert alert-info">Cargo tracking will be available soon.</div>
        }
    }
}
